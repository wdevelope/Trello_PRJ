<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="index.css" />
    <title>Trello</title>
  </head>

  <body>
    <!-- ⭐⭐ nav 바 ⭐⭐-->
    <nav id="navbar" class="navbar navbar-expand-sm navbar-dark sticky-top">
      <div class="navbar-brand">
        <h2 id="logo" onclick="logo()">TeamRello</h2>
      </div>
      <button
        class="navbar-toggler"
        data-toggle="collapse"
        data-target="#expandme"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="expandme">
        <div class="navbar-nav mr-auto">
          <div class="row align-items-center">
            <div class="col-auto pr-2">
              <select class="custom-select" id="boardSelect">
                <option selected>보드 선택...</option>
                <option value="1">보드1</option>
                <option value="2">보드2</option>
              </select>
            </div>
            <div class="col-auto">
              <button
                class="btn btn-outline-light my-1 my-sm-0"
                type="button"
                onclick="loadBoard()"
                id="loadBoardBtn"
              >
                보드 불러오기
              </button>
            </div>
          </div>
        </div>
        <!-- nav 버튼 -->
        <form class="form-inline">
          <button
            class="btn btn-outline-light my-2 my-sm-0 mr-2"
            type="button"
            id="authBtn"
            data-toggle="modal"
            data-target="#loginModal"
          >
            로그인
          </button>
          <button
            class="btn btn-outline-light my-2 my-sm-0 mr-2"
            type="button"
            id="signupBtn"
            data-toggle="modal"
            data-target="#registerModal"
          >
            회원가입
          </button>
          <button
            class="btn btn-outline-light my-2 my-sm-0 mr-2"
            type="button"
            id="logoutBtn"
            onclick="logout()"
          >
            로그아웃
          </button>
          <!-- 보드 생성 버튼 -->
          <button
            class="btn btn-outline-light my-2 my-sm-0 mr-2"
            type="button"
            data-toggle="modal"
            data-target="#createBoardModal"
            id="boardButton"
          >
            보드 생성
          </button>

          <!-- 프로필 버튼 -->
          <button
            class="btn btn-outline-light my-2 my-sm-0 mr-2"
            type="button"
            data-toggle="modal"
            data-target="#profileModal"
            id="profilBtn"
          >
            프로필
          </button>
        </form>
      </div>
    </nav>

    <!-- ⭐⭐ 모달 설정 세션 ⭐⭐ -->
    <section>
      <!-- 로그인 Modal -->
      <div
        class="modal fade"
        id="loginModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">로그인</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="email">이메일</label>
                  <input
                    type="text"
                    class="form-control"
                    id="email"
                    placeholder="이메일을 입력하세요."
                  />
                </div>
                <div class="form-group">
                  <label for="password">비밀번호</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    placeholder="비밀번호를 입력하세요."
                  />
                </div>
              </form>
            </div>

            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-dark"
                id="btn"
                onclick="login()"
              >
                로그인
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 회원가입 Modal -->
      <div
        class="modal fade"
        id="registerModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">회원가입</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="registerEmail">이메일</label>
                  <input
                    type="text"
                    class="form-control"
                    id="registerEmail"
                    placeholder="이메일을 입력하세요."
                  />
                </div>
                <div class="form-group">
                  <label for="registerNickname">닉네임</label>
                  <input
                    type="text"
                    class="form-control"
                    id="registerNickname"
                    placeholder="닉네임을 입력하세요."
                  />
                </div>
                <div class="form-group">
                  <label for="registerPassword">비밀번호</label>
                  <input
                    type="password"
                    class="form-control"
                    id="registerPassword"
                    placeholder="비밀번호를 입력하세요."
                  />
                </div>
                <div class="form-group">
                  <label for="confirmPassword">비밀번호 확인</label>
                  <input
                    type="password"
                    class="form-control"
                    id="confirmPassword"
                    placeholder="비밀번호를 다시 입력하세요."
                  />
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" id="btn" onclick="signup()">
                회원가입
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 보드 생성 모달 -->
      <div class="modal fade" id="createBoardModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">보드 생성</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <input
                type="text"
                id="titleBoard"
                placeholder="제목"
                class="form-control mb-2"
              />
              <textarea
                id="descriptionBoard"
                placeholder="내용"
                class="form-control mb-2"
              ></textarea>
              <input type="color" id="colorBoard" class="form-control mb-2" />
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-primary"
                id="createBoardbtn"
                onclick="createBoard()"
              >
                생성
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 프로필 모달 -->
      <div class="modal fade" id="profileModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">프로필 수정</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <input
                type="email"
                placeholder="이메일"
                class="form-control mb-2"
              />
              <input
                type="text"
                placeholder="닉네임"
                class="form-control mb-2"
              />
              <input
                type="password"
                placeholder="비밀번호"
                class="form-control mb-2"
              />
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary">수정</button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 컬럼 추가 모달 -->
      <div class="modal fade" id="addColumnModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">컬럼 추가</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <label for="columnTitle">컬럼 제목</label>
              <input
                type="text"
                id="columnTitle"
                placeholder="컬럼 제목"
                class="form-control mb-2"
              />

              <label for="columnPosition">컬럼 위치</label>
              <input
                type="number"
                id="columnPosition"
                placeholder="컬럼 위치 (예: 1)"
                class="form-control mb-2"
              />
            </div>

            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-primary"
                onclick="createColumn()"
              >
                추가
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 컬럼 수정 모달 -->
      <div class="modal fade" id="updateColumnModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">컬럼 수정</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <label for="updateColumnTitle">컬럼 제목</label>
              <input
                type="text"
                id="updateColumnTitle"
                placeholder="컬럼 제목"
                class="form-control mb-2"
              />

              <label for="updateColumnPosition">순서</label>
              <input
                type="number"
                id="updateColumnPosition"
                placeholder="순서 (예: 1)"
                class="form-control mb-2"
              />
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-primary"
                onclick="updateColumn()"
              >
                수정
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 카드 추가 모달 -->
      <div class="modal fade" id="addCardModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">카드 추가</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <label for="cardTitle">카드 제목</label>
              <input
                type="text"
                id="cardTitle"
                placeholder="카드 제목"
                class="form-control mb-2"
              />

              <label for="cardContent">카드 내용</label>
              <textarea
                id="cardContent"
                placeholder="카드 내용을 입력하세요."
                class="form-control mb-2"
                rows="3"
              ></textarea>

              <label for="dueDate">마감일</label>
              <input
                type="date"
                id="dueDate"
                placeholder="마감일"
                class="form-control mb-2"
              />

              <label for="cardColor">색깔</label>
              <input type="color" id="cardColor" class="form-control mb-2" />

              <label for="cardPosition">순서</label>
              <input
                type="number"
                id="cardPosition"
                placeholder="순서 (예: 1)"
                class="form-control mb-2"
              />
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" onclick="addCard()">
                추가
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 카드 수정 모달 -->
      <div class="modal fade" id="updateCardModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">카드 수정</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <label for="updateCardTitle">카드 제목</label>
              <input
                type="text"
                id="updateCardTitle"
                placeholder="카드 제목"
                class="form-control mb-2"
              />

              <label for="updateCardContent">카드 내용</label>
              <textarea
                id="updateCardContent"
                placeholder="카드 내용을 입력하세요."
                class="form-control mb-2"
                rows="3"
              ></textarea>

              <label for="updateDueDate">마감일</label>
              <input
                type="date"
                id="updateDueDate"
                placeholder="마감일"
                class="form-control mb-2"
              />

              <label for="updateCardColor">색깔</label>
              <input
                type="color"
                id="updateCardColor"
                class="form-control mb-2"
              />

              <label for="updateCardPosition">순서</label>
              <input
                type="number"
                id="updateCardPosition"
                placeholder="순서 (예: 1)"
                class="form-control mb-2"
              />
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary">수정</button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 카드 상세 모달 -->
      <div class="modal fade" id="cardDetailModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">카드 상세</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <!-- 카드의 상세 내용 -->
              <div class="form-group">
                <label for="cardDetailTitle">제목</label>
                <p id="cardDetailTitle"></p>
                <label for="cardDetailContent">내용</label>
                <p id="cardDetailContent"></p>
              </div>

              <!-- 마감기한 -->
              <div class="form-group">
                <label for="cardDetailDueDate">마감기한</label>
                <p id="cardDetailDueDate"></p>
              </div>

              <!-- 유저 프로필 -->
              <div class="participants d-flex mb-3">
                <img src="" alt="User 1" class="profile-icon" />
                <!-- ... 추가된 사용자의 프로필 ... -->
              </div>

              <!-- 작업자 추가 버튼 -->
              <div class="form-group">
                <button class="btn btn-outline-primary">작업자 추가</button>
              </div>

              <!-- 댓글 영역 추가 -->
              <div class="comments-section" data-card-id="">
                <h5 class="mt-3">댓글:</h5>
                <div class="form-group">
                  <textarea
                    id="commentInput"
                    class="form-control"
                    rows="3"
                    placeholder="댓글을 입력하세요..."
                  ></textarea>
                  <button class="btn btn-primary mt-2" onclick="addComment()">
                    댓글 등록
                  </button>
                </div>
                <ul class="list-group" id="commentsList">
                  <p>댓글입니당</p>
                </ul>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-warning"
                onclick="updateCard()"
              >
                카드 수정
              </button>
              <button
                type="button"
                class="btn btn-warning"
                onclick="deleteCard()"
              >
                카드 삭제
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 작업자 추가 모달 -->
      <div class="modal fade" id="addWorkerModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">작업자 추가</h5>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label for="userIdInput">유저 ID:</label>
                <input
                  type="text"
                  id="userIdInput"
                  class="form-control"
                  placeholder="유저 ID를 입력하세요"
                />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-primary"
                onclick="addWorker()"
              >
                추가
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                취소
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 유저 초대 모달 -->
      <div class="modal fade" id="inviteUserModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">유저 초대</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <input
                type="text"
                placeholder="유저 ID 입력"
                class="form-control mb-2"
              />
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary">초대</button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                닫기
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ⭐⭐ 메인 세션 ⭐⭐-->
    <main class="vh-100 pt-5"></main>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="./index.js"></script>
  </body>
</html>
